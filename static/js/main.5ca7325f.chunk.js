(this["webpackJsonpreact-transliterate-example"]=this["webpackJsonpreact-transliterate-example"]||[]).push([[0],{10:function(e,t,a){},15:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);a(10);var n=a(0),l=a.n(n),r=a(5),i=a.n(r),o=a(3),u=[{label:"Amharic",value:"am"},{label:"Arabic",value:"ar"},{label:"Bangla",value:"bn"},{label:"Belarusian",value:"be"},{label:"Bulgarian",value:"bg"},{label:"Chinese (Hong Kong)",value:"yue-hant"},{label:"Chinese (Simplified)",value:"zh"},{label:"Chinese (Traditional)",value:"zh-hant"},{label:"French",value:"fr"},{label:"German",value:"de"},{label:"Greek",value:"el"},{label:"Gujarati",value:"gu"},{label:"Hebrew",value:"he"},{label:"Hindi",value:"hi"},{label:"Italian",value:"it"},{label:"Japanese",value:"ja"},{label:"Kannada",value:"kn"},{label:"Malayalam",value:"ml"},{label:"Marathi",value:"mr"},{label:"Nepali",value:"ne"},{label:"Odia",value:"or"},{label:"Persian",value:"fa"},{label:"Portuguese (Brazil)",value:"pt"},{label:"Punjabi",value:"pa"},{label:"Russian",value:"ru"},{label:"Sanskrit",value:"sa"},{label:"Serbian",value:"sr"},{label:"Sinhala",value:"si"},{label:"Spanish",value:"es"},{label:"Tamil",value:"ta"},{label:"Telugu",value:"te"},{label:"Tigrinya",value:"ti"},{label:"Ukrainian",value:"uk"},{label:"Urdu",value:"ur"},{label:"Vietnamese",value:"vi"}],s=a(6),c=a.n(s);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}"undefined"!==typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!==typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var f="_1tkHS",b="_1KtfG",h=function(e){var t=e.renderComponent,a=void 0===t?function(e){return Object(n.createElement)("input",Object.assign({},e))}:t,l=e.lang,r=void 0===l?"hi":l,i=e.offsetX,o=void 0===i?0:i,u=e.offsetY,s=void 0===u?10:u,h=e.onChange,d=void 0===h?function(){}:h,m=e.onChangeText,g=void 0===m?function(){}:m,p=e.value,y=e.onKeyDown,S=void 0===y?function(){}:y,O=e.containerClassName,w=void 0===O?"":O,j=e.containerStyles,E=void 0===j?{}:j,x=e.activeItemStyles,C=void 0===x?{}:x,k=e.maxOptions,T=void 0===k?5:k,B=e.hideSuggestionBoxOnMobileDevices,I=void 0===B||B,N=e.hideSuggestionBoxBreakpoint,D=void 0===N?450:N,P=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,["renderComponent","lang","offsetX","offsetY","onChange","onChangeText","value","onKeyDown","containerClassName","containerStyles","activeItemStyles","maxOptions","hideSuggestionBoxOnMobileDevices","hideSuggestionBoxBreakpoint"]),M=Object(n.useState)([]),H=M[0],U=M[1],K=Object(n.useState)(0),R=K[0],z=K[1],F=Object(n.useState)(0),G=F[0],L=F[1],J=Object(n.useState)(0),W=J[0],A=J[1],X=Object(n.useState)(-1),Y=X[0],_=X[1],q=Object(n.useState)(-1),V=q[0],Q=q[1],Z=Object(n.useRef)(null),$=Object(n.useState)({width:0,height:0}),ee=$[0],te=$[1],ae=Object(n.useMemo)((function(){return!I||ee.width>D}),[ee,D,I]),ne=function(){A(0),U([])},le=function(e){var t=p;if("string"===typeof t){var a=t.substring(0,Y)+H[e]+" "+t.substring(V+1,t.length);setTimeout((function(){var t,a;t=Z.current,a=Y+H[e].length+1,t&&(t.selectionStart?(t.focus(),t.setSelectionRange(a,a)):t.focus())}),1);var n={target:{value:a}};g(a),d(n),ne()}},re=function(){var e=window.innerWidth,t=window.innerHeight;te({width:e,height:t})};return Object(n.useEffect)((function(){window.addEventListener("resize",re);var e=window.innerWidth,t=window.innerHeight;return te({width:e,height:t}),function(){window.removeEventListener("resize",re)}}),[]),Object(n.createElement)("div",{style:v({},E,{position:"relative"}),className:w},a(v({onChange:function(e){var t=e.currentTarget.value;if(d(e),g(t),ae){var a,n=(a=e.target,a&&"number"===typeof a.selectionStart&&"number"===typeof a.selectionEnd?{start:a.selectionStart,end:a.selectionEnd}:{start:0,end:0}).end,l=Z.current;if(l){var i=c()(l,n),o=t.lastIndexOf(" ",n-1)<t.lastIndexOf("\n",n-1)?t.lastIndexOf("\n",n-1):t.lastIndexOf(" ",n-1);_(o+1),Q(n-1);var u=t.slice(o+1,n);if(u){!function(t){try{if(!ae)return Promise.resolve();var a="https://inputtools.google.com/request?text="+t+"&itc="+r+"-t-i0-und&num=13&cp=0&cs=1&ie=utf-8&oe=utf-8&app=demopage",n=function(t,a){try{var n=t()}catch(e){return a(e)}return n&&n.then?n.then(void 0,a):n}((function(){return Promise.resolve(fetch(a)).then((function(e){return Promise.resolve(e.json()).then((function(e){if(e&&"SUCCESS"===e[0]){var t=e[1][0][1];t=t.slice(0,T),U(t)}}))}))}),(function(e){console.error("There was an error with transliteration",e)}));Promise.resolve(n&&n.then?n.then((function(){})):void 0)}catch(e){return Promise.reject(e)}}(u);var s=l.getBoundingClientRect(),v=i.top<s.height?i.top+l.offsetTop:s.height-(l.scrollHeight-i.top)%s.height+l.offsetTop,f=Math.min(i.left+l.offsetLeft-10,l.offsetLeft+s.width-100);L(v),z(f)}else ne()}}},onKeyDown:function(e){if(H.length>0)switch(e.keyCode){case 27:e.preventDefault(),ne();break;case 38:e.preventDefault(),A((H.length+W-1)%H.length);break;case 40:e.preventDefault(),A((W+1)%H.length);break;case 14:case 13:case 9:e.preventDefault(),le(W);break;default:S(e)}else S(e)},ref:Z,value:p},P)),ae&&H.length>0&&Object(n.createElement)("ul",{style:{left:R+o+"px",top:G+s+"px",position:"absolute",width:"auto"},className:f},H.map((function(e,t){return Object(n.createElement)("li",{className:t===W?b:void 0,style:t===W&&C||{},onMouseEnter:function(){A(t)},onClick:function(){return le(t)},key:e},e)}))))},d=(a(15),a(34)),m=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)("hi"),s=Object(o.a)(i,2),c=s[0],v=s[1];return l.a.createElement("div",{className:"container"},l.a.createElement("h2",null,"React transliterate"),l.a.createElement("select",{className:"language-dropdown",value:c,onChange:function(e){return v(e.target.value)}},u.map((function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.label)}))),l.a.createElement("div",{className:"spacer"}),l.a.createElement("label",{htmlFor:"react-transliterate-input"},"Using input"),l.a.createElement(h,{value:a,onChangeText:function(e){r(e)},lang:c,placeholder:"Start typing here...",id:"react-transliterate-input"}),l.a.createElement("div",{className:"spacer"}),l.a.createElement("label",{htmlFor:"react-transliterate-textarea"},"Using textarea"),l.a.createElement(h,{renderComponent:function(e){return l.a.createElement("textarea",e)},value:a,onChangeText:function(e){r(e)},lang:c,placeholder:"Start typing here...",id:"react-transliterate-textarea"}),l.a.createElement("div",{className:"spacer"}),l.a.createElement("label",{htmlFor:"react-transliterate-material-ui-input"},"Using Material UI input"),l.a.createElement(h,{renderComponent:function(e){var t=e.ref;return delete e.ref,l.a.createElement(d.a,Object.assign({fullWidth:!0},e,{inputRef:t}))},value:a,onChangeText:function(e){r(e)},lang:c,placeholder:"Start typing here...",id:"react-transliterate-material-ui-input"}))};i.a.render(l.a.createElement(m,null),document.getElementById("root"))},9:function(e,t,a){e.exports=a(20)}},[[9,1,2]]]);
//# sourceMappingURL=main.5ca7325f.chunk.js.map